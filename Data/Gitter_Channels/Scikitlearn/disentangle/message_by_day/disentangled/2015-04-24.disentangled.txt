[01:45] <544906e2db8155e6700cdd16> Hello guys! I'm having problems with a django application that uses a random forest classifier to classify items. The error that I'm receiving says: [ 'Thread' object has no attribute '_children' ] and googling it leads to http://stackoverflow.com/questions/9749875/strange-error-while-starting-threads-inside-django-application On the other hand, the exact line where the application throws the error is "clf.predict_proba(items)" and I'm not using threads at all but I set n_jobs=-1 in the initialization of the classifier so I wonder if this error could be related to joblib (it uses ThreadPool in the method "  call  " of the class Parallel). Any idea? Can I modify the n_jobs variable in order avoid parallelism?
[17:22] <544906e2db8155e6700cdd16> Sorry! I wasn't able to find the backticks in my spanish keyboard :/
--------------------------------------------------------------------------------------------------
[08:52] <541a528b163965c9bc2053de> @mac2bua please create a new stackoverflow question with a minimalistic reproduction script that generates its own test data.
--------------------------------------------------------------------------------------------------
[16:27] <544906e2db8155e6700cdd16> Done! http://stackoverflow.com/questions/29852680/thread-object-has-no-attribute-children-django-scikit-learn
--------------------------------------------------------------------------------------------------
[16:52] <541a528b163965c9bc2053de> answered. Please include the full traceback to make it possible for us to fix the real cause of the problem.
--------------------------------------------------------------------------------------------------
[17:11] <544906e2db8155e6700cdd16> Thanks @ogrisel the error seems to be fixed after I set the n_jobs parameter to 1.
[17:13] <544906e2db8155e6700cdd16> Here is the complete traceback: ``` File "/home/cristian/env/local/lib/python2.7/site-packages/django/core/handlers/base.py" in get_response line 111.                     response = wrapped_callback(request, *callback_args, **callback_kwargs) File "/home/cristian/env/local/lib/python2.7/site-packages/django/views/decorators/csrf.py" in wrapped_view line 57.         return view_func(*args, **kwargs) File "/home/cristian/env/local/lib/python2.7/site-packages/django/views/generic/base.py" in view line 69.             return self.dispatch(request, *args, **kwargs) File "/home/cristian/env/local/lib/python2.7/site-packages/rest_framework/views.py" in dispatch line 452.             response = self.handle_exception(exc) File "/home/cristian/env/local/lib/python2.7/site-packages/rest_framework/views.py" in dispatch line 449.             response = handler(request, *args, **kwargs) File "/home/cristian/env/local/lib/python2.7/site-packages/rest_framework/decorators.py" in handler line 50.             return func(*args, **kwargs) File "/home/cristian/filters/classifiers/views.py" in classify_item line 70. 			y_pred = clf.predict_proba(pd.DataFrame(item_dict)) File "/home/cristian/env/local/lib/python2.7/site-packages/sklearn/pipeline.py" in predict_proba line 159.         return self.steps[-1][-1].predict_proba(Xt) File "/home/cristian/env/local/lib/python2.7/site-packages/sklearn/ensemble/forest.py" in predict_proba line 468.             for i in range(n_jobs)) File "/home/cristian/env/local/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.py" in __call__ line 568.             self._pool = ThreadPool(n_jobs) File "/usr/lib/python2.7/multiprocessing/pool.py" in __init__ line 685.         Pool.__init__(self, processes, initializer, initargs) File "/usr/lib/python2.7/multiprocessing/pool.py" in __init__ line 136.         self._repopulate_pool() File "/usr/lib/python2.7/multiprocessing/pool.py" in _repopulate_pool line 199.             w.start() File "/usr/lib/python2.7/multiprocessing/dummy/__init__.py" in start line 73.         self._parent._children[self] = None  Exception Type: AttributeError at /items/ Exception Value: 'Thread' object has no attribute '_children' ```
[17:17] <541a528b163965c9bc2053de> Please edit the stackoverlow report instead.
[17:18] <541a528b163965c9bc2053de> Also quoting is done with backticks, not forward ticks :)
--------------------------------------------------------------------------------------------------
[17:47] <544906e2db8155e6700cdd16> I've just added the traceback to stackoverflow!
--------------------------------------------------------------------------------------------------
