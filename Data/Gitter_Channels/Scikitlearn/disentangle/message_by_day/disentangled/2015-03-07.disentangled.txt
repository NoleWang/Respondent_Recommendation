[09:32] <541a528b163965c9bc2053de> No there won't be any 0.16 website, before the 0.16 final release but I think this is fine. dev points to 0.17.dev0 and stable points to 0.15.2
[09:36] <541a528b163965c9bc2053de> next time we upload the website we should remove the version for the link to the development documentation number from the documentation menu.
--------------------------------------------------------------------------------------------------
[12:11] <5474d9eadb8155e6700d8178> Is there a nice cython guide that I could use? (Related to #4354 for `_tree.pyx` to make it support sparse y)
--------------------------------------------------------------------------------------------------
[12:40] <541a528b163965c9bc2053de> @amueller I tried to install the macwheels in a new venv and it works:
[12:40] <541a528b163965c9bc2053de> ``` (sklearn-0.16b1)0 [~]$ pip install -f http://wheels.scipy.org/ --pre numpy scipy scikit-learn Downloading/unpacking numpy   http://wheels.scipy.org/ uses an insecure transport scheme (http). Consider using https if wheels.scipy.org has it available   Downloading numpy-1.9.2-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl (3.7MB): 3.7MB downloaded   Storing download in cache at ./.pip/cache/https%3A%2F%2Fpypi.python.org%2Fpackages%2Fcp34%2Fn%2Fnumpy%2Fnumpy-1.9.2-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl Downloading/unpacking scipy   http://wheels.scipy.org/ uses an insecure transport scheme (http). Consider using https if wheels.scipy.org has it available   Downloading scipy-0.15.1-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl (19.0MB): 19.0MB downloaded   Storing download in cache at ./.pip/cache/https%3A%2F%2Fpypi.python.org%2Fpackages%2F3.4%2Fs%2Fscipy%2Fscipy-0.15.1-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl Downloading/unpacking scikit-learn   http://wheels.scipy.org/ uses an insecure transport scheme (http). Consider using https if wheels.scipy.org has it available   Downloading scikit_learn-0.16_git-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl (4.8MB): 4.8MB downloaded   Storing download in cache at ./.pip/cache/http%3A%2F%2Fwheels.scipy.org%2Fscikit_learn-0.16_git-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl Installing collected packages: numpy, scipy, scikit-learn Successfully installed numpy scipy scikit-learn Cleaning up... (sklearn-0.16b1)0 [~]$ python -c "import sklearn; print(sklearn.__version__)" 0.16-git ```
[12:40] <541a528b163965c9bc2053de> However the version number is not good
[12:42] <541a528b163965c9bc2053de> Actually it's my bad, it picked up the wrong wheel (because of the old version  number 0.16-git that is considered more recent than 0.16.b1)
[12:42] <541a528b163965c9bc2053de> We won't have the problem when we upload on pypi as we won't upload that 0.16-git wheel
[12:44] <541a528b163965c9bc2053de> If I fix the version of scikit-learn, it works: ``` (sklearn-0.16b1)0 [~]$ python -c "import sklearn; print(sklearn.__version__)" 0.16-git (sklearn-0.16b1)0 [~]$ pip uninstall -y scikit-learn Uninstalling scikit-learn:   Successfully uninstalled scikit-learn (sklearn-0.16b1)0 [~]$ pip install -f http://wheels.scipy.org scikit-learn==0.16b1 Downloading/unpacking scikit-learn==0.16b1   http://wheels.scipy.org uses an insecure transport scheme (http). Consider using https if wheels.scipy.org has it available   Downloading scikit_learn-0.16b1-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl (5.0MB): 5.0MB downloaded   Storing download in cache at ./.pip/cache/http%3A%2F%2Fwheels.scipy.org%2Fscikit_learn-0.16b1-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl Installing collected packages: scikit-learn Successfully installed scikit-learn Cleaning up... (sklearn-0.16b1)0 [~]$ python -c "import sklearn; print(sklearn.__version__)" 0.16b1 ```
[12:44] <541a528b163965c9bc2053de> I am launching the tests now
[12:48] <541a528b163965c9bc2053de> All tests pass with the 0.16b1 wheel on my OSX laptop
[12:49] <541a528b163965c9bc2053de> On windows on the other hand, the wheels were not uploaded because the tests are broken: https://ci.appveyor.com/project/sklearn-ci/scikit-learn/history
[12:50] <541a528b163965c9bc2053de> They have been broken for a while and I had not noticed
[17:48] <541a528b163965c9bc2053de> yes I see it thanks!
[17:50] <541a528b163965c9bc2053de> pushed
[17:50] <541a528b163965c9bc2053de> let's wait for appveyor to build the wheels
--------------------------------------------------------------------------------------------------
[12:51] <541a528b163965c9bc2053de> Here is the error message: ``` [00:15:09] ====================================================================== [00:15:09] FAIL: Test that scorers support sample_weight or raise sensible errors [00:15:09] ---------------------------------------------------------------------- [00:15:09] Traceback (most recent call last): [00:15:09]   File "C:\Python34-x64\lib\site-packages\nose\case.py", line 198, in runTest [00:15:09]     self.test(*self.arg) [00:15:09]   File "C:\Python34-x64\lib\site-packages\sklearn\utils\testing.py", line 300, in wrapper [00:15:09]     return fn(*args, **kwargs) [00:15:09]   File "C:\Python34-x64\lib\site-packages\sklearn\metrics\tests\test_score_objects.py", line 343, in test_scorer_sample_weight [00:15:09]     "{2}".format(name, weighted, unweighted)) [00:15:09] AssertionError: 0.29999999999999999 == 0.29999999999999999 : scorer recall_samples behaves identically when called with sample weights: 0.3 vs 0.3 [00:15:09]  [00:15:09] ---------------------------------------------------------------------- ```
[12:55] <541a528b163965c9bc2053de> I created this to track it: #4358
--------------------------------------------------------------------------------------------------
[13:01] <541a528b163965c9bc2053de> I pushed a fix for master (hopefully)
[13:02] <541a528b163965c9bc2053de> Apparently you did not push the 0.16.X branch to the repo. I cannot cherry-pick the fix (c23d4f31a3fcd7b24e46d46df6f2d274a839b201) to get it into the 0.16.X branch.
--------------------------------------------------------------------------------------------------
[17:21] <54d4a1d6db8155e6700f853b> huh, pretty sure I pushed the 0.16.X branch.
[17:21] <54d4a1d6db8155e6700f853b> the tag is in the branch
[17:22] <54d4a1d6db8155e6700f853b> hum ok guess I didn't push it. I pushed with --tags, apparently that only pushes the taggs
--------------------------------------------------------------------------------------------------
[17:24] <54d4a1d6db8155e6700f853b> so which branch is this commit in? 09dc09a1e9d9088c2cb783c818980f5509d77a11
[17:36] <54d4a1d6db8155e6700f853b> fixed it, I think
--------------------------------------------------------------------------------------------------
[17:37] <541a528b163965c9bc2053de> @amueller I fixed #4358
[17:38] <541a528b163965c9bc2053de> it was a missing `random_state`, do you want me to do the backport?
[17:38] <54d4a1d6db8155e6700f853b> yeah, go ahead. the branch should be there now.
--------------------------------------------------------------------------------------------------
[17:51] <54d4a1d6db8155e6700f853b> btw, where is the continuous integration on appveyor? I'm sure there is a badge for that so we can see when it breaks
[17:51] <541a528b163965c9bc2053de> https://ci.appveyor.com/project/sklearn-ci/scikit-learn/
[17:55] <54d4a1d6db8155e6700f853b> Ok, I'll check back tomorrow, not gonna do anything today I think
--------------------------------------------------------------------------------------------------
[17:53] <541a528b163965c9bc2053de> I have to go offline now. I might get back online tomorrow evening Paris time. If we are both online at that point we can push the release to PyPI together. Otherwise on monday. If the windows wheels are all generated correctly and you feel confident to use the upload-all command of the wheelhouse-uploader tool, feel free to do it before that.
[17:56] <541a528b163965c9bc2053de> ok have a nice WE then :)
[17:56] <54d4a1d6db8155e6700f853b> you too!
--------------------------------------------------------------------------------------------------
[18:14] <54d4a1d6db8155e6700f853b> I think I would need to login to get the badge url
--------------------------------------------------------------------------------------------------
[18:20] <54d4a1d6db8155e6700f853b> well we can use shields: https://img.shields.io/appveyor/ci/sklearn-ci/scikit-learn/master.svg
--------------------------------------------------------------------------------------------------
